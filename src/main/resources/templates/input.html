<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Todo入力</title>
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>
<div data-role="page">
	<div data-role="main" class="ui-content">
		<h1>Todo入力</h1>
		<form method="get" th:action="${actionName}" th:object="${formModel}" data-ajax="false">
		<ul>
			<li th:each="error : ${#fields.detailedErrors()}" class="err" th:text="${error.message}" />
			<li th:each="custErr : ${custErr}" class="err" th:text="${custErr}" />
		</ul>
		<table>	
			<tr>
				<td><label for="startDate">日付</label></td>
				<td>
					<input type="date" name="startDate" 
						th:value="${formModel.startDate} ? 
						${#calendars.format(formModel.startDate,'yyyy-MM-dd')} : 
						${#calendars.format(execInfo.now,'yyyy-MM-dd')}" />
				</td>
			</tr>
			<tr>
				<td><label for="endDate">期限</label></td>
				<td>
					<input type="date" name="endDate" 
						th:value="${formModel.endDate} ? 
						${#calendars.format(formModel.endDate,'yyyy-MM-dd')}" />
				</td>
			</tr>
			<tr>
				<td><label for="name">名前</label></td>
				<td><input type="text" name="name" th:value="${formModel.name}" /></td>
			</tr>
			<tr>
				<td><label for="challenge">Todo</label></td>
				<td><textarea name="challenge" th:text="${formModel.challenge}"></textarea></td>
			</tr>
			<tr>
				<td><label for="memo">メモ</label></td>
				<td><textarea name="memo" th:text="${formModel.memo}"></textarea></td>
			</tr>
			<tr>
				<td><label for="state">ステータス</label></td>
				<td>
					<input type="text" name="state" 
						th:value="${formModel.state} ? ${formModel.state} : '起票'" />
				</td>
			</tr>
			<tr>
				<td></td>
				<td>
					<input type="hidden" name="id" th:value="${formModel.id}" />
					<input type="submit" th:value="${actionLabel}" />
				</td>
			</tr>
		</table>
		</form>
	</div>
	<div th:include="common::footer"></div>
</div>
</body>
</html>